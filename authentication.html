<!DOCTYPE html><html><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if(!e)return localStorage.setItem('theme','light'),d.add('light');if("system"===e){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else d.add(e)}catch(e){}}()</script><link rel="stylesheet" href="https://rsms.me/inter/inter.css"/><title>Authentication – Plaid Core Exchange</title><style>html{font-family:Inter,sans-serif}@supports(font-variation-settings:normal){html{font-family:'Inter var',sans-serif}}</style><meta name="msapplication-TileColor" content="#ffffff"/><meta name="theme-color" content="#ffffff"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="Content-Language" content="en"/><meta name="description" content="Plaid Core Exchange"/><meta name="og:description" content="Plaid Core Exchange"/><meta name="twitter:card" content="summary_large_image"/><meta name="og:title" content="Plaid Core Exchange Documentation"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><meta name="next-head-count" content="15"/><link rel="preload" href="/core-exchange/_next/static/css/5866c77a2df860f3.css" as="style"/><link rel="stylesheet" href="/core-exchange/_next/static/css/5866c77a2df860f3.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/core-exchange/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/core-exchange/_next/static/chunks/webpack-8d0f9d7421267ea1.js" defer=""></script><script src="/core-exchange/_next/static/chunks/framework-ff100329a956f214.js" defer=""></script><script src="/core-exchange/_next/static/chunks/main-b9719dc64ea278df.js" defer=""></script><script src="/core-exchange/_next/static/chunks/pages/_app-ac7fbded4d889044.js" defer=""></script><script src="/core-exchange/_next/static/chunks/839-b93a52da2b5ff45d.js" defer=""></script><script src="/core-exchange/_next/static/chunks/pages/authentication-10315bf1577c9a55.js" defer=""></script><script src="/core-exchange/_next/static/CNZk7lccjiEo1X7xdf-Vm/_buildManifest.js" defer=""></script><script src="/core-exchange/_next/static/CNZk7lccjiEo1X7xdf-Vm/_ssgManifest.js" defer=""></script><script src="/core-exchange/_next/static/CNZk7lccjiEo1X7xdf-Vm/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="nextra-container main-container flex flex-col"><nav class="flex items-center bg-white z-20 fixed top-0 left-0 right-0 h-16 border-b border-gray-200 px-6 dark:bg-dark dark:border-gray-900 bg-opacity-[.97] dark:bg-opacity-100"><div class="w-full flex items-center mr-2"><a class="no-underline text-current inline-flex items-center hover:opacity-75" href="/"><a class="Touchable-module_resetButtonOrLink__hwe7O" href="https://plaid.com"><svg width="180" height="56" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M38.839 27.611h-1.157v-2.629h1.04c1.263 0 1.895.441 1.895 1.323 0 .871-.592 1.306-1.778 1.306Zm3.204-4.33c-.671-.563-1.817-.843-3.439-.843h-3.656v11.24h2.734v-3.521h1.224c1.488 0 2.578-.327 3.271-.979.782-.73 1.174-1.7 1.174-2.915 0-1.258-.436-2.252-1.308-2.983Zm5.988-.843h-2.852v11.24h6.157v-2.544H48.03v-8.697Zm8.856 7.331 1.174-3.842 1.157 3.842h-2.33Zm.033-7.331-4.478 11.24h3.07l.587-1.634h3.89l.537 1.635h3.104l-4.445-11.242H56.92Zm8.135 11.24h2.852v-11.24h-2.852v11.24Zm9.36-2.544H73.19v-6.152h1.242c.872 0 1.542.271 2.012.813.47.542.704 1.311.704 2.305 0 2.023-.911 3.034-2.733 3.034Zm4.562-6.59a4.662 4.662 0 0 0-1.358-1.297c-.862-.54-2.036-.81-3.523-.81h-3.757v11.241h4.395c1.587 0 2.862-.516 3.824-1.55C79.52 31.094 80 29.724 80 28.016c0-1.36-.341-2.516-1.023-3.472ZM27.473 40.603l2.385-9.356L26.626 28l3.232-3.247-2.386-9.356L18.163 13l-3.233 3.247L11.697 13l-9.311 2.397L0 24.753 3.232 28 0 31.247l2.386 9.356L11.697 43l3.232-3.248L18.161 43l9.312-2.397Zm-10.697-2.706 3.078-3.093 3.917 3.935-4.901 1.262-2.094-2.104Zm-4.925-14.845 3.078-3.093 3.079 3.093-3.079 3.092-3.078-3.092ZM13.082 28l-3.078 3.093L6.926 28l3.078-3.093L13.082 28Zm6.772-3.093L22.932 28l-3.078 3.093L16.776 28l3.078-3.093Zm-1.847 8.042L14.93 36.04l-3.078-3.093 3.078-3.092 3.078 3.093ZM10.988 40l-4.9-1.262 3.916-3.935 3.078 3.093L10.988 40ZM5.08 29.856l3.078 3.092-3.916 3.936-1.256-4.924 2.094-2.104Zm-.838-10.74 3.916 3.936-3.078 3.092-2.094-2.104 1.256-4.924Zm8.841-1.013-3.078 3.093-3.916-3.935 4.9-1.262 2.095 2.104ZM18.87 16l4.9 1.262-3.916 3.935-3.078-3.093L18.87 16Zm5.91 10.145L21.7 23.052l3.917-3.936 1.255 4.925-2.094 2.103Zm.838 10.74L21.7 32.949l3.078-3.093 2.094 2.104-1.255 4.924Z" fill="#111"></path><path d="M92.363 32.192c1.944 0 3.192-1.248 3.396-3.336h-1.356c-.144 1.272-.864 2.1-1.98 2.1-1.584 0-2.364-1.392-2.364-3.264 0-1.8.804-3.216 2.34-3.216 1.032 0 1.776.648 1.956 1.812h1.356c-.192-1.908-1.56-3.024-3.3-3.024-2.328 0-3.708 1.884-3.708 4.464 0 2.628 1.308 4.464 3.66 4.464Zm7.603-.024c1.897 0 3.025-1.344 3.025-3.264 0-1.908-1.14-3.264-3.013-3.264-1.883 0-3.023 1.356-3.023 3.264 0 1.908 1.127 3.264 3.011 3.264Zm-.011-1.092c-1.008 0-1.656-.84-1.656-2.196 0-1.332.66-2.16 1.655-2.16 1.021 0 1.693.852 1.693 2.184 0 1.332-.684 2.172-1.693 2.172Zm5.947.924v-2.664c0-1.668.552-2.448 1.812-2.448.156 0 .276.024.48.072v-1.248a1.735 1.735 0 0 0-.372-.048c-.924 0-1.512.384-2.016 1.2l-.444-1.056h-.696V32h1.236Zm6.295.168c1.464 0 2.472-.756 2.772-2.136h-1.284c-.192.696-.708 1.068-1.44 1.068-1.08 0-1.68-.744-1.728-1.824h4.5c.048-1.956-.804-3.636-2.868-3.636-1.74 0-2.952 1.344-2.952 3.252 0 1.956 1.128 3.276 3 3.276Zm-1.668-3.888c.096-.924.66-1.572 1.596-1.572.864 0 1.452.552 1.572 1.572h-3.168ZM126.086 32v-1.224h-4.404v-2.568h4.032v-1.176h-4.032V24.68h4.368v-1.212h-5.796V32h5.832Zm2.376 0 1.512-2.328L131.51 32h1.548l-2.292-3.264 2.112-2.928h-1.5l-1.392 2.04-1.32-2.04h-1.584l2.112 2.976L126.938 32h1.524Zm8.309.168c1.536 0 2.52-.912 2.724-2.46h-1.284c-.12.852-.636 1.368-1.416 1.368-1.068 0-1.596-.948-1.596-2.136 0-1.26.504-2.22 1.644-2.22.732 0 1.236.456 1.344 1.212h1.284c-.144-1.512-1.236-2.292-2.652-2.292-1.872 0-2.952 1.392-2.952 3.3s1.104 3.228 2.904 3.228Zm5.587-.168v-3.3c0-1.344.576-1.944 1.524-1.944.972 0 1.188.624 1.188 1.824V32h1.26v-3.372c0-1.908-.348-2.964-2.112-2.964-.732 0-1.452.312-1.848.912l-.012-3.108h-1.272V32h1.272Zm7.796.132c.852 0 1.596-.18 2.052-.912l.24.78h.888v-3.324c0-2.136-.312-3.036-2.424-3.036-1.416 0-2.604.552-2.64 2.148h1.296c.06-.816.552-1.14 1.332-1.14.864 0 1.164.396 1.176 1.548-3.276.12-4.056.792-4.056 2.112 0 1.176.924 1.824 2.136 1.824Zm.312-1.008c-.624 0-1.104-.264-1.104-.852 0-1.092 1.356-1.152 2.7-1.26v.408c0 .972-.312 1.704-1.596 1.704Zm6.173.876v-3.18c0-1.62.588-2.076 1.536-2.076.768 0 1.176.492 1.176 1.416V32h1.272v-3.432c0-1.92-.396-2.904-2.16-2.904-.828 0-1.452.3-1.92.984l-.468-.84h-.696V32h1.26Zm8.599 2.4c2.028 0 2.88-.96 2.88-3.18v-5.412h-.912l-.324.84c-.36-.648-1.02-.984-1.812-.984-1.788 0-2.712 1.488-2.712 3.144 0 1.776.972 3.12 2.64 3.12.78 0 1.44-.3 1.848-.96l.012.384c0 1.332-.432 2.052-1.548 2.052-.684 0-1.284-.3-1.368-.96h-1.308c.084 1.32 1.236 1.956 2.604 1.956Zm.012-3.564c-1.044 0-1.512-.936-1.512-2.076 0-1.152.516-2.016 1.548-2.016s1.536.912 1.536 2.028c0 1.152-.516 2.064-1.572 2.064Zm7.401 1.332c1.464 0 2.472-.756 2.772-2.136h-1.284c-.192.696-.708 1.068-1.44 1.068-1.08 0-1.68-.744-1.728-1.824h4.5c.048-1.956-.804-3.636-2.868-3.636-1.74 0-2.952 1.344-2.952 3.252 0 1.956 1.128 3.276 3 3.276Zm-1.668-3.888c.096-.924.66-1.572 1.596-1.572.864 0 1.452.552 1.572 1.572h-3.168Z" fill="#ADADAD"></path></svg></a></a></div><div class="flex-1"><div class="hidden md:inline-block mr-2"><div class="nextra-search relative w-full md:w-64"><input type="search" class="appearance-none border rounded py-2 px-3 leading-tight focus:outline-none focus:ring w-full" placeholder="Search (&quot;/&quot; to focus)"/></div></div></div><a class="text-current p-2" href="https://github.com/plaid/corex" target="_blank"><svg height="24" viewBox="2 2 20 20" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z" fill="currentColor"></path></svg></a><button class="block md:hidden p-2"><svg fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><div class="-mr-2"></div></nav><div class="flex flex-1 h-full"><aside class="fixed h-screen bg-white dark:bg-dark flex-shrink-0 w-full md:w-64 md:sticky z-10 hidden md:block" style="top:4rem;height:calc(100vh - 4rem)"><div class="sidebar border-gray-200 dark:border-gray-900 w-full p-4 pb-40 md:pb-16 h-full overflow-y-auto"><div class="mb-4 block md:hidden"><div class="nextra-search relative w-full md:w-64"><input type="search" class="appearance-none border rounded py-2 px-3 leading-tight focus:outline-none focus:ring w-full" placeholder="Search (&quot;/&quot; to focus)"/></div></div><div class="hidden md:block"><ul><li class=""><a href="/">Welcome</a></li><li class=""><a href="/implementation-checklists">Implementation checklists</a></li><li class=""><a href="/example">Example API mock server</a></li><li class=""><a href="/fdx-data-subsets">FDX data subsets</a></li><li class="active"><a href="/authentication">Authentication</a><ul><li><a href="#oidc-server-basic-requirements" class="active-anchor"><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">OIDC server basic requirements</span></span></a></li><li><a href="#oidc-well-known-configuration" class=""><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">OIDC well-known configuration</span></span></a></li><li><a href="#authorization-code-flow" class=""><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">Authorization code flow</span></span></a></li><li><a href="#refresh-flow" class=""><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">Refresh flow</span></span></a></li><li><a href="#error-handling" class=""><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">Error handling</span></span></a></li></ul></li><li class=""><a href="/user-experience">User experience</a></li><li class=""><a href="/client-id-client-secret">Creating a client ID and client secret</a></li><li class="active"><button>API reference</button><div style="display:initial"><ul><li class=""><a href="/api-versions">API overview</a></li><li class=""><a href="/api-versions/five-dot-one">v5.1</a></li><li class=""><a href="/api-versions/five-dot-zero">v5.0</a></li><li class=""><a href="/api-versions/four-dot-six">v4.6</a></li></ul></div></li><li class=""><a href="/changelist">Changelist</a></li></ul></div><div class="md:hidden"><ul><li class=""><a href="/">Welcome</a></li><li class=""><a href="/implementation-checklists">Implementation checklists</a></li><li class=""><a href="/example">Example API mock server</a></li><li class=""><a href="/fdx-data-subsets">FDX data subsets</a></li><li class="active"><a href="/authentication">Authentication</a><ul><li><a href="#oidc-server-basic-requirements" class="active-anchor"><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">OIDC server basic requirements</span></span></a></li><li><a href="#oidc-well-known-configuration" class=""><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">OIDC well-known configuration</span></span></a></li><li><a href="#authorization-code-flow" class=""><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">Authorization code flow</span></span></a></li><li><a href="#refresh-flow" class=""><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">Refresh flow</span></span></a></li><li><a href="#error-handling" class=""><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">Error handling</span></span></a></li></ul></li><li class=""><a href="/user-experience">User experience</a></li><li class=""><a href="/client-id-client-secret">Creating a client ID and client secret</a></li><li class="active"><button>API reference</button><div style="display:initial"><ul><li class=""><a href="/api-versions">API overview</a></li><li class=""><a href="/api-versions/five-dot-one">v5.1</a></li><li class=""><a href="/api-versions/five-dot-zero">v5.0</a></li><li class=""><a href="/api-versions/four-dot-six">v4.6</a></li></ul></div></li><li class=""><a href="/changelist">Changelist</a></li></ul></div></div></aside><div id="reach-skip-nav" data-reach-skip-nav-content=""></div><article class="docs-container relative pt-20 pb-16 px-6 md:px-8 w-full max-w-full overflow-x-hidden"><main class="max-w-screen-md mx-auto"><h1>Authentication</h1><p>Core Exchange uses the <a target="_blank" href="https://openid.net/connect/">OpenID Connect (OIDC)</a> protocol to authenticate your customers. OIDC is an extension to OAuth2. This topic describes how Plaid acts as the client of your OIDC server.</p><p>Plaid uses the OAuth2 authorization code flow to acquire authorization from the end user, so Plaid can access your Core Exchange API on their behalf. Plaid redirects the end user to a web page your organization hosts for all authentication steps. At the end of the authorization code flow, Plaid receives an access token, which identifies the user and authenticates Plaid&#x27;s access to your organization&#x27;s Core Exchange API.</p><p>While it is possible to build a compliant OIDC server from scratch, Plaid recommends using a vendor or starting from an open-source implementation. If you already have an identity provider such as Okta, Auth0, Ping Identity, Azure Active Directory, or AWS Cognito, you likely already have an integrated OIDC solution available from them. There are also many <a target="_blank" href="https://openid.net/developers/certified/">OIDC certified open source and commercial implementations</a> available for many different programming languages.</p><p>Plaid intends for this described authentication flow to conform to commonly implemented patterns for the <a target="_blank" href="https://openid.net/specs/">OIDC spec</a>, and welcomes partner feedback.</p><p>If you don&#x27;t yet have an identity provider for integrating with OAuth, Plaid recommends Okta,
an industry leading independent identity provider with expertise onboarding data partners to OAuth integrations.
To learn more, see the <a target="_blank" href="https://www.okta.com/blog/2023/02/how-oktas-new-plaid-integration-keeps-your-banking-secure/">blog post about Plaid&#x27;s partnership with Okta</a>
or contact <a href="mailto:dataconnectivity@plaid.com">dataconnectivity@plaid.com</a> to get started with Okta for your Data Connectivity integration.</p><h2><span class="subheading-anchor" id="oidc-server-basic-requirements"></span><a href="#oidc-server-basic-requirements" class="text-current no-underline no-outline">OIDC server basic requirements<span class="anchor-icon" aria-hidden="true">#</span></a></h2><hr/><div class="table-container"><table><thead><tr><th>configuration</th><th>notes</th></tr></thead><tbody><tr><td>OIDC server domain</td><td>Communicate the fully qualified domain name of your OIDC server to Plaid. Your organization can choose the domain. For example, you can host the server on a subdomain of your primary domain (e.g. <code>auth.firstplatypusbank.com</code>) or a different domain entirely (e.g. <code>firstplatypusbank.okta.com</code>). This domain will likely be different from the subdomain hosting your API server (e.g. <code>fdx.firstplaidypusbank.com</code>). This server must support HTTPS.</td></tr><tr><td>well-known configuration</td><td>Plaid expects to read the rest of your server configuration from the well-known path <code>/.well-known/openid-configuration</code> (for example, <code>https://auth.firstplatypusbank.com/.well-known/openid-configuration</code>). See the following table for the information Plaid expects to receive.</td></tr></tbody></table></div><h2><span class="subheading-anchor" id="oidc-well-known-configuration"></span><a href="#oidc-well-known-configuration" class="text-current no-underline no-outline">OIDC well-known configuration<span class="anchor-icon" aria-hidden="true">#</span></a></h2><p>The <code>/.well-known/openid-configuration</code> endpoint of the OIDC server returns a JSON object containing at a minimum the following values. This public endpoint accepts HTTP GET requests without authentication.</p><h3><span class="subheading-anchor" id="response-properties"></span><a href="#response-properties" class="text-current no-underline no-outline">Response properties<span class="anchor-icon" aria-hidden="true">#</span></a></h3><div class="table-container"><table><thead><tr><th>property</th><th>description</th></tr></thead><tbody><tr><td><code>authorization_endpoint</code></td><td>The endpoint hosting the user authentication page.</td></tr><tr><td><code>token_endpoint</code></td><td>The endpoint Plaid calls to exchange the authorization code for an access token.</td></tr><tr><td><code>userinfo_endpoint</code></td><td>The endpoint Plaid calls to retrieve the subject identifier for the user.</td></tr><tr><td><code>token_endpoint_auth_methods_supported</code></td><td>An optional array of supported client authentication methods. See <a href="#client-authentication">Client Authentication</a> for details.</td></tr><tr><td><code>response_types_supported</code></td><td>An array of supported response types. Plaid expects this to include <code>code</code>.</td></tr><tr><td><code>scopes_supported</code></td><td>An array that must include at minimum <code>openid</code> and <code>offline_access</code>: <br/><br/><code>openid</code> -- allows Plaid to access the subject identifier from the id token, which Plaid uses to uniquely identify users across different application connections. This allows Plaid to optimize traffic and list all active connections for a given user in <code>my.plaid.com</code>. (If your organization can&#x27;t provide this, Plaid instead queries <code>/customers/current</code> for identity information.)<br/><br/><code>offline_access</code> -- grants Plaid a refresh token Plaid can use to refresh user data in the background. This is required for several important use cases, such as Plaid partners performing balance checks before ACH transfers, and for transaction data subscriptions. For more information about the specification, see the <a target="_blank" href="https://openid.net/specs/openid-connect-core-1_0.html#OfflineAccess">OIDC specification</a>.<br/><br/></td></tr></tbody></table></div><h3><span class="subheading-anchor" id="example"></span><a href="#example" class="text-current no-underline no-outline">Example<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>Plaid request:</p><pre><code class="prism-code language-shell" style="background-color:transparent"><div class="token-line"><span class="token function">curl</span><span class="token plain"> GET </span><span class="token string">&#x27;https://auth.firstplatypusbank.com/.well-known/openid-configuration&#x27;</span></div></code></pre><p>Your response:</p><pre><code class="prism-code language-json" style="background-color:transparent"><div class="token-line"><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;authorization_endpoint&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;https://auth.firstplatypusbank.com/oauth2/v1/authorize&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;token_endpoint&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;https://auth.firstplatypusbank.com/oauth2/v1/token&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;userinfo_endpoint&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;https://auth.firstplatypusbank.com/oauth2/v1/userinfo&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;token_endpoint_auth_methods_supported&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&quot;client_secret_basic&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;response_types_supported&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&quot;code&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;scopes_supported&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&quot;openid&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;offline_access&quot;</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></code></pre><h2><span class="subheading-anchor" id="authorization-code-flow"></span><a href="#authorization-code-flow" class="text-current no-underline no-outline">Authorization code flow<span class="anchor-icon" aria-hidden="true">#</span></a></h2><h3><span class="subheading-anchor" id="1-plaids-authorization_endpoint-redirect"></span><a href="#1-plaids-authorization_endpoint-redirect" class="text-current no-underline no-outline">1. Plaid&#x27;s <code>authorization_endpoint</code> redirect<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>When your user initiates the process of linking their account, Plaid first redirects the user&#x27;s browser to the endpoint specified in your well-known configuration as the <code>authorization_endpoint</code>. Plaid&#x27;s redirect includes these query parameters:</p><div class="table-container"><table><thead><tr><th>query parameter</th><th>value</th><th>description</th></tr></thead><tbody><tr><td><code>response_type</code></td><td><code>code</code></td><td>Specifies the type of response Plaid expects.</td></tr><tr><td><code>redirect_uri</code></td><td><code>https://cdn.plaid.com/link/v2/stable/oauth.html</code></td><td>Specifies where Plaid expects your organization to redirect back to once the user completed all authentication steps.</td></tr><tr><td><code>scope</code></td><td>at a minimum <code>openid</code> and <code>offline_access</code></td><td>Specifies the set of scopes Plaid requests access to.</td></tr><tr><td><code>client_id</code></td><td>The client id you issued to Plaid</td><td></td></tr><tr><td><code>state</code></td><td>An opaque string</td><td>Plaid generates this. Your organization returns the same string when redirecting back to the given redirect URL.</td></tr></tbody></table></div><h3><span class="subheading-anchor" id="example-1"></span><a href="#example-1" class="text-current no-underline no-outline">Example<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>Plaid redirect:</p><pre><code>https://auth.firstplatypus.com/oauth2/v1/authorize?response_type=code&amp;redirect_uri=https%3A%2F%2Fcdn.plaid.com%2Flink%2Fv2%2Fstable%2Foauth.html&amp;scope=openid%20offline_access&amp;client_id=plaid&amp;state=eyJvYXV0aF9zdGF0ZV
</code></pre><p>This page will be requested directly by the user&#x27;s device. Your authorization endpoint must support TLS and be publicly accessible. Control of user authentication has now been handed off to you. A typical authentication flow will include a username and password submission form and a 2FA step. For partners with native mobile applications, Plaid strongly recommends enabling support for <a target="_blank" href="https://openid.net/tag/app2app/">App2App</a> and using <a target="_blank" href="https://webauthn.guide/">biometric authentication</a> to improve the user&#x27;s authentication experience.</p><h3><span class="subheading-anchor" id="2-authorization_endpoint-redirect-response"></span><a href="#2-authorization_endpoint-redirect-response" class="text-current no-underline no-outline">2. <code>authorization_endpoint</code> redirect response<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>After the user completes all required authentication steps, your organization generates a temporary authorization code and redirects the user&#x27;s browser back to the <code>redirect_uri</code>. Your organization includes the following query parameters with the request.</p><div class="table-container"><table><thead><tr><th>query parameter</th><th>description</th></tr></thead><tbody><tr><td><code>code</code></td><td>The temporary authorization code. Plaid exchanges this for the access token in the next step.</td></tr><tr><td><code>state</code></td><td>The opaque string Plaid passed as the <code>state</code> parameter in the previous <code>authorization_endpoint</code> redirect. Plaid verifies this matches.</td></tr></tbody></table></div><h3><span class="subheading-anchor" id="example-2"></span><a href="#example-2" class="text-current no-underline no-outline">Example<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>Your response:</p><pre><code>https://cdn.plaid.com/link/v2/stable/oauth.html?code=1284918391&amp;state=eyJvYXV0aF9zdGF0ZV
</code></pre><p><strong>Note:</strong> If a user does not complete all the required steps (for example, if they choose to cancel rather than authorize)
you should handle it as an error.
See the <a href="#error-handling">error</a> section for more information.</p><h3><span class="subheading-anchor" id="3-plaids-token_endpoint-request"></span><a href="#3-plaids-token_endpoint-request" class="text-current no-underline no-outline">3. Plaid&#x27;s <code>token_endpoint</code> request<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>Plaid swaps the authorization code (<code>code</code>) for an <code>access_token</code>, <code>id_token</code>, and <code>refresh_token</code> by calling your <code>token_endpoint</code>.</p><h4><span class="subheading-anchor" id="client-authentication"></span><a href="#client-authentication" class="text-current no-underline no-outline">Client Authentication<span class="anchor-icon" aria-hidden="true">#</span></a></h4><p>Unlike the preceding two redirect steps, the request to <code>token_endpoint</code> is a backend-to-backend call and must be authenticated. The authentication credentials consist of a client id and secret pair you issue to Plaid.</p><p>For example,</p><pre><code class="prism-code language-json" style="background-color:transparent"><div class="token-line"><span class="token property">&quot;client_id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;plaid&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token property">&quot;client_secret&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;rVXYOoQS4rHUG79n_48al&quot;</span><span class="token punctuation">,</span></div></code></pre><p>Specify which <a target="_blank" href="https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication">client authentication schemes</a> your server supports using the
<code>token_endpoint_auth_methods_supported</code> field in your openid-configuration object. Plaid uses this field to determine how to pass the client id and secret in the request.
If omitted, Plaid defaults to <code>client_secret_basic</code> as described in the <a target="_blank" href="https://www.rfc-editor.org/rfc/rfc6749#section-2.3.://www.rfc-editor.org/rfc/rfc6749#section-2.3.1">OAuth spec</a>.</p><h4><span class="subheading-anchor" id="query-parameters"></span><a href="#query-parameters" class="text-current no-underline no-outline">Query parameters<span class="anchor-icon" aria-hidden="true">#</span></a></h4><p>The request includes the following parameters:</p><div class="table-container"><table><thead><tr><th>query parameter</th><th>value</th><th>comment</th></tr></thead><tbody><tr><td><code>grant_type</code></td><td><code>authorization_code</code></td><td>The type of &quot;grant&quot; Plaid is exchanging for an access token.</td></tr><tr><td><code>redirect_uri</code></td><td><code>https://cdn.plaid.com/link/v2/stable/oauth.html</code></td><td>Specifies where Plaid expects your organization to redirect back to once the user completed all authentication steps.</td></tr><tr><td><code>code</code></td><td><code>code</code> you sent to Plaid in the last step</td><td>The temporary authorization code Plaid is exchanging for the access token.</td></tr></tbody></table></div><h4><span class="subheading-anchor" id="example-3"></span><a href="#example-3" class="text-current no-underline no-outline">Example<span class="anchor-icon" aria-hidden="true">#</span></a></h4><p>Plaid request:</p><pre><code class="prism-code language-shell" style="background-color:transparent"><div class="token-line"><span class="token function">curl</span><span class="token plain"> --request POST </span><span class="token string">&#x27;https://auth.firstplatypusbank.com/oauth2/v1/token&#x27;</span><span class="token plain"> </span><span class="token punctuation">\</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">--user </span><span class="token string">&quot;plaid:rVXYOoQS4rHUG79n_48al&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">--header </span><span class="token string">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation">\</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">--data-raw </span><span class="token string">&#x27;{</span></div><div class="token-line"><span class="token string">    &quot;grant_type&quot;: &quot;authorization_code&quot;,</span></div><div class="token-line"><span class="token string">    &quot;code&quot;: &quot;1284918391&quot;,</span></div><div class="token-line"><span class="token string">    &quot;redirect_url&quot;: &quot;https://cdn.plaid.com/link/v2/stable/oauth.html&quot;</span></div><div class="token-line"><span class="token string">}&#x27;</span></div></code></pre><h3><span class="subheading-anchor" id="4-token_endpoint-response"></span><a href="#4-token_endpoint-response" class="text-current no-underline no-outline">4. <code>token_endpoint</code> response<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>Your organization validates that the <code>code</code>, <code>client_id</code>, <code>client_secret</code>, and <code>redirect_uri</code> query parameters from the request all match the expected values. Your response to this request contains everything that Plaid needs to subsequently access your Core Exchange API. This includes the following values:</p><div class="table-container"><table><thead><tr><th>property</th><th>description</th></tr></thead><tbody><tr><td><code>access_token</code></td><td>An opaque string (likely a JWT structured according to the <a target="_blank" href="https://datatracker.ietf.org/doc/html/rfc9068#section-2.2">Oauth2 specification</a>) that Plaid will present as a bearer token to all requests made to your Core Exchange API. This encodes the identity of the user and the scope of access granted.</td></tr><tr><td><code>expires_in</code></td><td>The lifetime in seconds of the access token. This is lifetime is typically 15 minutes (900 seconds). Plaid checks for expiration before using an access token. Plaid requests a new access token if expired using the refresh token, sometimes long after the original access token expired. If your organization expires the token before the stated expiration date, Plaid expects Core Exchange to return a 401 response with an error code &quot;602 not authorized&quot;.</td></tr><tr><td><code>id_token</code></td><td>An <a target="_blank" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">OIDC ID token</a>. Plaid reads solely the <code>sub</code> field from the token.<br/>In a multi-tenant deployment, where each financial institution is a tenant, the <code>sub</code> field in this token must be unique to the user in each tenant. It doesn&#x27;t need to be unique to the user across all tenants.</td></tr><tr><td><code>refresh_token</code></td><td>An opaque string (likely a JWT) that can be used to request a new access token. Plaid will use this to fetch data periodically long after the original access token expires. See the following Refresh flow for more information. <br/>Plaid doesn&#x27;t recommend setting an inactivity timeout for the refresh token, because it&#x27;s not a good indicator of whether a user is active with a Plaid partner or not. For example, some Plaid partners can trigger Plaid to call the Core Exchange endpoint <code>/accounts/{accountID}</code> infrequently for large transactions.</td></tr></tbody></table></div><h4><span class="subheading-anchor" id="example-4"></span><a href="#example-4" class="text-current no-underline no-outline">Example<span class="anchor-icon" aria-hidden="true">#</span></a></h4><p>Your response:</p><pre><code class="prism-code language-json" style="background-color:transparent"><div class="token-line"><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;access_token&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;agstynmdygjdghabrgraeh...&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;expires_in&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">900</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;id_token&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;snsyjrhvjdtvyjvsgcegaethstj...&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;refresh_token&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;dhcsrtjsrgayvkdisfdgntshstu...&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></code></pre><p>After it receives this response, Plaid has everything it needs to access your Core Exchange API.</p><h2><span class="subheading-anchor" id="refresh-flow"></span><a href="#refresh-flow" class="text-current no-underline no-outline">Refresh flow<span class="anchor-icon" aria-hidden="true">#</span></a></h2><p>For some use cases, Plaid needs to periodically fetch fresh data on behalf of the user. To get a new access token, Plaid makes another request to your <code>token_endpoint</code> with a different set of parameters.</p><h4><span class="subheading-anchor" id="query-parameters-1"></span><a href="#query-parameters-1" class="text-current no-underline no-outline">Query parameters<span class="anchor-icon" aria-hidden="true">#</span></a></h4><p>The request includes the following parameters:</p><div class="table-container"><table><thead><tr><th>query parameter</th><th>value</th><th>description</th></tr></thead><tbody><tr><td><code>grant_type</code></td><td><code>refresh_token</code></td><td>Specifies that Plaid is requesting a new access token to replace the expired access token.</td></tr><tr><td><code>refresh_token</code></td><td>The refresh token you issued to Plaid.</td><td></td></tr></tbody></table></div><h3><span class="subheading-anchor" id="example-5"></span><a href="#example-5" class="text-current no-underline no-outline">Example<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>Plaid request:</p><pre><code class="prism-code language-shell" style="background-color:transparent"><div class="token-line"><span class="token function">curl</span><span class="token plain"> --request POST </span><span class="token string">&#x27;https://auth.firstplatypusbank.com/oauth2/v1/token&#x27;</span><span class="token plain"> </span><span class="token punctuation">\</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">--user </span><span class="token string">&quot;plaid:rVXYOoQS4rHUG79n_48al&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">--header </span><span class="token string">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation">\</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">--data-raw </span><span class="token string">&#x27;{</span></div><div class="token-line"><span class="token string">    &quot;grant_type&quot;: &quot;refresh_token&quot;,</span></div><div class="token-line"><span class="token string">    &quot;refresh_token&quot;: &quot;dhcsrtjsrgayvkdisfdgntshstu...&quot;</span></div><div class="token-line"><span class="token string">}&#x27;</span></div></code></pre><p>Your organization&#x27;s response:</p><pre><code class="prism-code language-json" style="background-color:transparent"><div class="token-line"><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;access_token&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;lngarogglkcangasgabba...&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;expires_in&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">900</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;id_token&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;snsyjrhvjdtvyjvsgcegaethstj...&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></code></pre><p>See the previous section for descriptions of these response parameters.</p><h2><span class="subheading-anchor" id="error-handling"></span><a href="#error-handling" class="text-current no-underline no-outline">Error handling<span class="anchor-icon" aria-hidden="true">#</span></a></h2><p>How to <a target="_blank" href="https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1">handle an error</a> that occurs during the <a href="#authorization-code-flow">authorization flow</a>.</p><h3><span class="subheading-anchor" id="incorrect-redirect-uri"></span><a href="#incorrect-redirect-uri" class="text-current no-underline no-outline">Incorrect Redirect URI<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>If the request fails due to an incorrect, missing, invalid, or mismatched <code>redirect_uri</code>,
notify Plaid of the error and do not redirect the user to the <code>redirect_uri</code>.
We recommend displaying an error page to notify the user that an error has occurred.</p><h3><span class="subheading-anchor" id="user-cancellation"></span><a href="#user-cancellation" class="text-current no-underline no-outline">User cancellation<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>If the user cancels the request or if the request fails for any other reason other than an incorrect URI,
include the following required query parameters with the request.</p><p>Please see the <a target="_blank" href="https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1">OAuth spec</a> for a complete list of possible parameters.</p><div class="table-container"><table><thead><tr><th>query parameter</th><th>description</th></tr></thead><tbody><tr><td><code>error</code></td><td>The reason for the error. See the <a href="#errors">Errors</a> table below for a list of possible errors.</td></tr><tr><td><code>state</code></td><td>The opaque string Plaid passed as the <code>state</code> parameter in the <code>authorization_endpoint</code> redirect step.</td></tr></tbody></table></div><h4><span class="subheading-anchor" id="errors"></span><a href="#errors" class="text-current no-underline no-outline">Errors<span class="anchor-icon" aria-hidden="true">#</span></a></h4><p>See the table below for a full list of possible errors, as defined in the <a target="_blank" href="https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1">OAuth spec</a></p><div class="table-container"><table><thead><tr><th>parameter</th><th>description</th></tr></thead><tbody><tr><td><code>invalid_request</code></td><td>The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed.</td></tr><tr><td><code>unauthorized_client</code></td><td>The client is not authorized to request an authorization code using this method.</td></tr><tr><td><code>access_denied</code></td><td>The resource owner or authorization server denied the request.</td></tr><tr><td><code>unsupported_response_type</code></td><td>The authorization server does not support obtaining an authorization code using this method.</td></tr><tr><td><code>invalid_scope</code></td><td>The requested scope is invalid, unknown, or malformed.</td></tr><tr><td><code>server_error</code></td><td>The authorization server encountered an unexpected condition that prevented it from fulfilling the request. (This error code is needed because a 500 Internal Server Error HTTP status code cannot be returned to the client via an HTTP redirect.)</td></tr><tr><td><code>temporarily_unavailable</code></td><td>The authorization server is currently unable to handle the request due to a temporary overloading or maintenance of the server. (This error code is needed because a 503 Service Unavailable HTTP status code cannot be returned to the client via an HTTP redirect.)</td></tr></tbody></table></div><h4><span class="subheading-anchor" id="example-6"></span><a href="#example-6" class="text-current no-underline no-outline">Example<span class="anchor-icon" aria-hidden="true">#</span></a></h4><p>Your response:</p><pre><code>https://cdn.plaid.com/link/v2/stable/oauth.html?error=access_denied&amp;state=eyJvYXV0aF9zdGF0ZV
</code></pre><footer class="mt-24"><div class="flex flex-row items-center justify-between"><div><a class="text-lg font-medium p-4 -m-4 no-underline text-gray-600 hover:text-blue-600 flex items-center mr-2" title="FDX data subsets" href="/fdx-data-subsets"><svg height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="transform inline flex-shrink-0 rotate-180 mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>FDX data subsets</a></div><div><a class="text-lg font-medium p-4 -m-4 no-underline text-gray-600 hover:text-blue-600 flex items-center ml-2" title="User experience" href="/user-experience">User experience<svg height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="transform inline flex-shrink-0 ml-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a></div></div><hr/><div class="mt-24 flex justify-between flex-col-reverse md:flex-row items-center md:items-end"><span class="text-gray-600">MIT <!-- -->2023<!-- --> © Plaid.</span><div class="mt-6"></div></div></footer></main></article></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/authentication","query":{},"buildId":"CNZk7lccjiEo1X7xdf-Vm","assetPrefix":"/core-exchange","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>